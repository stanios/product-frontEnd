"use strict";(self.webpackChunkproduct_frontend=self.webpackChunkproduct_frontend||[]).push([[367],{367:(F,f,c)=>{c.r(f),c.d(f,{ProductsModule:()=>S});var d=c(6895),a=c(4975),h=c(529),r=c(433),g=c(6523),t=c(8256),_=c(2099);const m="https://codingfactory.ddns.net/api/product";let u=(()=>{class e{constructor(o){this.http=o}findAll(){return this.http.get(`${m}/findall`)}insertProduct(o){return this.http.post(`${m}/create`,o)}deleteProduct(o){return this.http.delete(`${m}/delete/${o}`).pipe((0,_.g)(1e3))}updateProduct(o){return console.log("service has startet"),this.http.patch(`${m}/update`,o)}}return e.\u0275fac=function(o){return new(o||e)(t.LFG(h.eN))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Z(e,i){1&e&&(t.TgZ(0,"div",2),t._uU(1," Loading Users ... "),t.TgZ(2,"div",3),t._UZ(3,"span",4),t.qZA()())}function b(e,i){if(1&e&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td",8),t._uU(10),t.qZA()()),2&e){const o=i.$implicit;t.xp6(2),t.hij(" ",o.product," "),t.xp6(2),t.hij(" ",o.cost," "),t.xp6(2),t.hij(" ",o.quantity," "),t.xp6(2),t.hij(" ",o.description," "),t.xp6(2),t.hij(" ",o._id," ")}}function T(e,i){if(1&e){const o=t.EpF();t.TgZ(0,"div")(1,"table",5)(2,"thead")(3,"tr")(4,"th")(5,"button",6),t.NdJ("click",function(){t.CHM(o);const s=t.oxw();return t.KtG(s.toggleSort("product"))}),t._uU(6,"Product"),t.qZA()(),t.TgZ(7,"th")(8,"button",6),t.NdJ("click",function(){t.CHM(o);const s=t.oxw();return t.KtG(s.toggleSort("cost"))}),t._uU(9,"Cost"),t.qZA()(),t.TgZ(10,"th")(11,"button",6),t.NdJ("click",function(){t.CHM(o);const s=t.oxw();return t.KtG(s.toggleSort("quantity"))}),t._uU(12,"Quantity"),t.qZA()(),t.TgZ(13,"th"),t._uU(14," Description "),t.qZA(),t.TgZ(15,"th"),t._uU(16," ID "),t.qZA()()(),t.TgZ(17,"tbody"),t.YNc(18,b,11,5,"tr",7),t.qZA()()()}if(2&e){const o=t.oxw();t.xp6(18),t.Q6J("ngForOf",o.productList)}}function U(e,i){1&e&&(t.TgZ(0,"div",7)(1,"div",8),t._UZ(2,"span",9),t.qZA()())}function A(e,i){if(1&e){const o=t.EpF();t.TgZ(0,"tr")(1,"td",3),t._uU(2),t.qZA(),t.TgZ(3,"td",3),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td",4),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td")(12,"button",5),t.NdJ("click",function(){const p=t.CHM(o).$implicit,l=t.oxw(2);return t.KtG(l.onDeleteButtonClick(p._id,p))}),t._uU(13,"DELETE"),t.qZA()(),t.TgZ(14,"td",3),t.YNc(15,U,3,0,"div",6),t.qZA()()}if(2&e){const o=i.$implicit;t.xp6(2),t.hij(" ",o.product," "),t.xp6(2),t.hij(" ",o.cost," "),t.xp6(2),t.hij(" ",o.quantity," "),t.xp6(2),t.hij(" ",o.description," "),t.xp6(2),t.hij(" ",o._id," "),t.xp6(5),t.Q6J("ngIf",o.loading)}}function y(e,i){if(1&e&&(t.TgZ(0,"div")(1,"table",1)(2,"thead")(3,"tr")(4,"th"),t._uU(5," Product "),t.qZA(),t.TgZ(6,"th"),t._uU(7," Cost "),t.qZA(),t.TgZ(8,"th"),t._uU(9," Quantity "),t.qZA(),t.TgZ(10,"th"),t._uU(11," Description "),t.qZA(),t.TgZ(12,"th"),t._uU(13," ID "),t.qZA()()(),t.TgZ(14,"tbody"),t.YNc(15,A,16,6,"tr",2),t.qZA()()()),2&e){const o=t.oxw();t.xp6(15),t.Q6J("ngForOf",o.productList)}}function P(e,i){1&e&&(t.TgZ(0,"div",7)(1,"div",8),t._UZ(2,"span",9),t.qZA()())}function x(e,i){if(1&e){const o=t.EpF();t.TgZ(0,"tr")(1,"td",3),t._uU(2),t.qZA(),t.TgZ(3,"td",3),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td",4),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td")(12,"button",5),t.NdJ("click",function(){const p=t.CHM(o).$implicit,l=t.oxw(2);return t.KtG(l.onUpdateButtonClick(p))}),t._uU(13,"UPDATE"),t.qZA()(),t.TgZ(14,"td",3),t.YNc(15,P,3,0,"div",6),t.qZA()()}if(2&e){const o=i.$implicit;t.xp6(2),t.hij(" ",o.product," "),t.xp6(2),t.hij(" ",o.cost," "),t.xp6(2),t.hij(" ",o.quantity," "),t.xp6(2),t.hij(" ",o.description," "),t.xp6(2),t.hij(" ",o._id," "),t.xp6(5),t.Q6J("ngIf",o.loading)}}function I(e,i){if(1&e&&(t.TgZ(0,"div")(1,"table",1)(2,"thead")(3,"tr")(4,"th"),t._uU(5," Product "),t.qZA(),t.TgZ(6,"th"),t._uU(7," Cost "),t.qZA(),t.TgZ(8,"th"),t._uU(9," Quantity "),t.qZA(),t.TgZ(10,"th"),t._uU(11," Description "),t.qZA(),t.TgZ(12,"th"),t._uU(13," ID "),t.qZA()()(),t.TgZ(14,"tbody"),t.YNc(15,x,16,6,"tr",2),t.qZA()()()),2&e){const o=t.oxw();t.xp6(15),t.Q6J("ngForOf",o.productList)}}const L=[{path:"list",component:(()=>{class e{constructor(o){this.productService=o,this.loading=!1,this.productList=[],this.productNameSortType="asc",this.costSortType="asc",this.quantitySortType="asc"}ngOnInit(){console.log('starting "findAll" API call'),this.loading=!0,this.subscription=this.productService.findAll().subscribe({next:o=>{const{status:n,data:s}=o;this.productList=s,console.log(n),console.log(s)},error:o=>{this.loading=!1,console.log(o)},complete:()=>{this.loading=!1,console.log("API call finished")}})}ngOnDestroy(){this.subscription?.unsubscribe()}toggleSort(o){switch(o){case"product":this.productNameSortType="asc"===this.productNameSortType?"desc":"asc",this.productList=(0,g.Z)(this.productList,[o],[this.productNameSortType]);break;case"cost":this.costSortType="asc"==this.costSortType?"desc":"asc",this.productList=(0,g.Z)(this.productList,[o],[this.costSortType]);break;case"quantity":this.quantitySortType="asc"===this.quantitySortType?"desc":"asc",this.productList=(0,g.Z)(this.productList,[o],[this.quantitySortType])}}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(u))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-product-list"]],decls:2,vars:2,consts:[["class","mt-e row alert alert-info",4,"ngIf"],[4,"ngIf"],[1,"mt-e","row","alert","alert-info"],["role","status",1,"spinner-border","text-primary"],[1,"sr-only"],[1,"table","table-striped"],[1,"btn","btn-secondary",3,"click"],[4,"ngFor","ngForOf"],[1,"w-25"]],template:function(o,n){1&o&&(t.YNc(0,Z,4,0,"div",0),t.YNc(1,T,19,1,"div",1)),2&o&&(t.Q6J("ngIf",n.loading),t.xp6(1),t.Q6J("ngIf",n.productList.length))},dependencies:[d.sg,d.O5],styles:["button[_ngcontent-%COMP%]{height:35px;width:100px}"]}),e})()},{path:"insert",component:(()=>{class e{constructor(o,n,s){this.fb=o,this.service=n,this.router=s,this.form=this.fb.group({product:["",[r.kI.required,r.kI.minLength(3)]],cost:["",[r.kI.required,r.kI.min(1)]],description:["",[r.kI.required,r.kI.minLength(3)]],quantity:["",[r.kI.required,r.kI.min(0)]]})}onSubmit(){this.form.valid?(console.log(this.form.value),this.service.insertProduct(this.form.value).subscribe(n=>{console.log(n)}),this.router.navigate(["product/list"])):console.log("Form is not Valid")}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(r.qu),t.Y36(u),t.Y36(a.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-product-insert"]],decls:21,vars:2,consts:[[3,"formGroup","ngSubmit"],[1,"mb-3"],["for","product",1,"form-label"],["type","text","id","product","formControlName","product",1,"form-control"],["for","cost",1,"form-label"],["type","text","id","cost","formControlName","cost",1,"form-control"],["for","description",1,"form-label"],["type","text","id","description","formControlName","description",1,"form-control"],["for","quantity",1,"form-label"],["type","text","id","quantity","formControlName","quantity",1,"form-control"],["type","submit",1,"btn","btn-success",3,"disabled"]],template:function(o,n){1&o&&(t.TgZ(0,"h2"),t._uU(1,"Insert a Product"),t.qZA(),t.TgZ(2,"form",0),t.NdJ("ngSubmit",function(){return n.onSubmit()}),t.TgZ(3,"div",1)(4,"label",2),t._uU(5,"Product Name"),t.qZA(),t._UZ(6,"input",3),t.qZA(),t.TgZ(7,"div",1)(8,"label",4),t._uU(9,"Cost"),t.qZA(),t._UZ(10,"input",5),t.qZA(),t.TgZ(11,"div",1)(12,"label",6),t._uU(13,"Description"),t.qZA(),t._UZ(14,"input",7),t.qZA(),t.TgZ(15,"div",1)(16,"label",8),t._uU(17,"Quantity"),t.qZA(),t._UZ(18,"input",9),t.qZA(),t.TgZ(19,"button",10),t._uU(20," Submit "),t.qZA()()),2&o&&(t.xp6(2),t.Q6J("formGroup",n.form),t.xp6(17),t.Q6J("disabled",!n.form.valid))},dependencies:[r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u]}),e})()},{path:"delete",component:(()=>{class e{constructor(o){this.productService=o,this.loading=!1,this.productList=[]}ngOnInit(){console.log('starting "findAll" API call'),this.loading=!0,this.subscription=this.productService.findAll().subscribe({next:o=>{const{status:n,data:s}=o;this.productList=s,console.log(n),console.log(s)},error:o=>{this.loading=!1,console.log(o)},complete:()=>{this.loading=!1,console.log("API call finished")}})}ngOnDestroy(){this.subscription?.unsubscribe()}onDeleteButtonClick(o,n){console.log("The delete progress has started"),n.loading=!0,this.subscription=this.productService.deleteProduct(o).subscribe({next:s=>{console.log(s),this.productList=this.productList.filter(l=>l._id!==o)},error:s=>{n.loading=!1,console.log(s)},complete:()=>{n.loading=!1,console.log("The delete progress has finished")}})}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(u))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-product-delete"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"table","table-striped"],[4,"ngFor","ngForOf"],[1,"w-25"],[1,"w-50"],[1,"btn","btn-danger","btn-sm",3,"click"],["class","row spinner",4,"ngIf"],[1,"row","spinner"],["role","status",1,"spinner-border","spinner-border-xs","text-primary"],[1,"sr-only"]],template:function(o,n){1&o&&t.YNc(0,y,16,1,"div",0),2&o&&t.Q6J("ngIf",n.productList.length)},dependencies:[d.sg,d.O5]}),e})()},{path:"update",component:(()=>{class e{constructor(o,n){this.productService=o,this.router=n,this.loading=!1}ngOnInit(){console.log('starting "findAll" API call'),this.loading=!0,this.subscription=this.productService.findAll().subscribe({next:o=>{const{status:n,data:s}=o;this.productList=s,console.log(n),console.log(s)},error:o=>{this.loading=!1,console.log(o)},complete:()=>{this.loading=!1,console.log("API call finished")}})}ngOnDestroy(){this.subscription?.unsubscribe()}onUpdateButtonClick(o){this.productService.productToUpdate=o,this.productService.newList=this.productList,this.router.navigate(["product/updateForm"])}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(u),t.Y36(a.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-product-update"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"table","table-striped"],[4,"ngFor","ngForOf"],[1,"w-25"],[1,"w-50"],[1,"btn","btn-success","btn-sm",3,"click"],["class","row spinner",4,"ngIf"],[1,"row","spinner"],["role","status",1,"spinner-border","spinner-border-xs","text-primary"],[1,"sr-only"]],template:function(o,n){1&o&&t.YNc(0,I,16,1,"div",0),2&o&&t.Q6J("ngIf",n.productList.length)},dependencies:[d.sg,d.O5]}),e})()},{path:"updateForm",component:(()=>{class e{constructor(o,n,s){this.fb=o,this.service=n,this.router=s,this.form=this.fb.group({_id:[n.productToUpdate._id,[r.kI.required,r.kI.minLength(3)]],product:["",[r.kI.required,r.kI.minLength(3)]],cost:["",[r.kI.required,r.kI.min(1)]],description:["",[r.kI.required,r.kI.minLength(3)]],quantity:["",[r.kI.required,r.kI.min(0)]]})}onSubmit(){this.form.valid?(this.service.updateProduct(this.form.value).subscribe(n=>{console.log(n)}),this.router.navigate(["product/update"])):console.log("Form is not valid")}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(r.qu),t.Y36(u),t.Y36(a.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-product-update-form"]],decls:27,vars:3,consts:[[3,"formGroup","ngSubmit"],[1,"mb-3"],[1,"form-label"],["type","text","formControlName","_id","readonly","",1,"form-control"],["for","product",1,"form-label"],["type","text","id","product","formControlName","product",1,"form-control"],["for","cost",1,"form-label"],["type","text","id","cost","formControlName","cost",1,"form-control"],["for","description",1,"form-label"],["type","text","id","description","formControlName","description",1,"form-control"],["for","quantity",1,"form-label"],["type","text","id","quantity","formControlName","quantity",1,"form-control"],["type","submit",1,"btn","btn-success",3,"disabled"]],template:function(o,n){1&o&&(t.TgZ(0,"h2"),t._uU(1,"Your are modifying the product: "),t.TgZ(2,"span"),t._uU(3),t.qZA()(),t.TgZ(4,"form",0),t.NdJ("ngSubmit",function(){return n.onSubmit()}),t.TgZ(5,"div",1)(6,"label",2),t._uU(7,"ID"),t.qZA(),t._UZ(8,"input",3),t.qZA(),t.TgZ(9,"div",1)(10,"label",4),t._uU(11,"Product Name"),t.qZA(),t._UZ(12,"input",5),t.qZA(),t.TgZ(13,"div",1)(14,"label",6),t._uU(15,"Cost"),t.qZA(),t._UZ(16,"input",7),t.qZA(),t.TgZ(17,"div",1)(18,"label",8),t._uU(19,"Description"),t.qZA(),t._UZ(20,"input",9),t.qZA(),t.TgZ(21,"div",1)(22,"label",10),t._uU(23,"Quantity"),t.qZA(),t._UZ(24,"input",11),t.qZA(),t.TgZ(25,"button",12),t._uU(26," Submit "),t.qZA()()),2&o&&(t.xp6(3),t.Oqu(n.service.productToUpdate.product),t.xp6(1),t.Q6J("formGroup",n.form),t.xp6(21),t.Q6J("disabled",!n.form.valid))},dependencies:[r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u],styles:["span[_ngcontent-%COMP%]{color:red}input[readonly][_ngcontent-%COMP%]{pointer-events:none}"]}),e})()}];let S=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({providers:[u],imports:[d.ez,a.Bz.forChild(L),h.JF,r.UX]}),e})()}}]);